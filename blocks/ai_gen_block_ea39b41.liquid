{% doc %}
  @prompt
    Create a flexible image and text section with the following features: left/right image positioning that can be toggled in theme customizer, text content that can wrap below the image for long content, ability to add multiple image-text blocks within the section, fully customizable layout options in the theme editor, responsive design that works on mobile devices, and clean spacing between elements also I want to add cta button on text part as well, I want to add some of the text below the image and in full width please provide code accordingly

{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-image-text-block-{{ ai_gen_id }} {
    padding: {{ block.settings.section_padding_top }}px 0 {{ block.settings.section_padding_bottom }}px;
    background-color: {{ block.settings.background_color }};}

  .ai-image-text-container-{{ ai_gen_id }} {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
  }

  .ai-image-text-main-content-{{ ai_gen_id }} {
    display: flex;
    align-items: {{ block.settings.vertical_alignment }};
    gap: {{ block.settings.content_gap }}px;margin-bottom: {{ block.settings.bottom_content_spacing }}px;
  }

  .ai-image-text-main-content-{{ ai_gen_id }}--reverse {
    flex-direction: row-reverse;
  }

  .ai-image-text-image-wrapper-{{ ai_gen_id }} {
    flex: 0 0 {{ block.settings.image_width }}%;
    position: relative;
  }

  .ai-image-text-image-{{ ai_gen_id }} {
    width: 100%;
    height: auto;
    border-radius: {{ block.settings.image_border_radius }}px;
    object-fit: cover;
  }

  .ai-image-text-image-placeholder-{{ ai_gen_id }} {
    width: 100%;
    aspect-ratio: {{ block.settings.image_aspect_ratio }};
    background-color: #f4f4f4;
    border-radius: {{ block.settings.image_border_radius }}px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .ai-image-text-image-placeholder-{{ ai_gen_id }} svg {
    width:60%;
    height: 60%;
    opacity: 0.3;
  }

  .ai-image-text-side-content-{{ ai_gen_id }} {
    flex: 1;
    min-width: 0;
  }

  .ai-image-text-heading-{{ ai_gen_id }} {
    color: {{ block.settings.heading_color }};
    font-size: {{ block.settings.heading_size }}px;
    margin: 0 0 {{ block.settings.text_spacing }}px;
    line-height: 1.2;
  }

  .ai-image-text-side-text-{{ ai_gen_id }} {
    color: {{ block.settings.text_color }};
    font-size: {{ block.settings.text_size }}px;
    line-height: 1.6;
    margin: 0 0 {{ block.settings.text_spacing }}px;
  }

  .ai-image-text-side-text-{{ ai_gen_id }} p:last-child {
    margin-bottom: 0;
  }

  .ai-image-text-bottom-content-{{ ai_gen_id }} {
    width: 100%;}

  .ai-image-text-bottom-text-{{ ai_gen_id }} {
    color: {{ block.settings.text_color }};
    font-size: {{ block.settings.text_size }}px;
    line-height: 1.6;
    margin: 0 0 {{ block.settings.text_spacing }}px;
    text-align: {{ block.settings.bottom_text_alignment }};
  }

  .ai-image-text-bottom-text-{{ ai_gen_id }} p:last-child {
    margin-bottom: 0;
  }

  .ai-image-text-button-wrapper-{{ ai_gen_id }} {
    margin-top: {{ block.settings.button_margin_top }}px;
    text-align: {{ block.settings.button_alignment }};
  }

  .ai-image-text-button-{{ ai_gen_id }} {
    display: inline-block;
    padding: {{ block.settings.button_padding_vertical }}px {{ block.settings.button_padding_horizontal }}px;
    background-color: {{ block.settings.button_background_color }};
    color: {{ block.settings.button_text_color }};
    text-decoration: none;
    border-radius: {{ block.settings.button_border_radius }}px;
    font-size: {{ block.settings.button_text_size }}px;
    font-weight: 500;
    transition: all 0.3s ease;
    border: {{ block.settings.button_border_width }}px solid {{ block.settings.button_border_color }};
  }

  .ai-image-text-button-{{ ai_gen_id }}:hover {
    background-color: {{ block.settings.button_hover_background_color }};
    color: {{ block.settings.button_hover_text_color }};border-color: {{ block.settings.button_hover_border_color }};
    transform: translateY(-1px);
  }

  @media screen and (max-width: 768px) {
    .ai-image-text-main-content-{{ ai_gen_id }},
    .ai-image-text-main-content-{{ ai_gen_id }}--reverse {
      flex-direction: column;gap: {{ block.settings.mobile_content_gap }}px;
    }

    .ai-image-text-image-wrapper-{{ ai_gen_id }} {
      flex: none;
      width: 100%;
    }

    .ai-image-text-heading-{{ ai_gen_id }} {
      font-size: {{ block.settings.mobile_heading_size }}px;
    }

    .ai-image-text-side-text-{{ ai_gen_id }},
    .ai-image-text-bottom-text-{{ ai_gen_id }} {
      font-size: {{ block.settings.mobile_text_size }}px;
    }

    .ai-image-text-block-{{ ai_gen_id }} {
      padding: {{ block.settings.mobile_section_padding_top }}px 0 {{ block.settings.mobile_section_padding_bottom }}px;
    }

    .ai-image-text-container-{{ ai_gen_id }} {
      padding: 0 16px;
    }

    .ai-image-text-main-content-{{ ai_gen_id }} {
      margin-bottom: {{ block.settings.mobile_bottom_content_spacing }}px;
    }

    .ai-image-text-bottom-text-{{ ai_gen_id }} {
      text-align: {{ block.settings.mobile_bottom_text_alignment }};
    }

    .ai-image-text-button-wrapper-{{ ai_gen_id }} {
      text-align: {{ block.settings.mobile_button_alignment }};
    }
  }

  @media screen and (max-width: 480px) {
    .ai-image-text-button-{{ ai_gen_id }} {
      width: 100%;
      text-align: center;
    }

    .ai-image-text-button-wrapper-{{ ai_gen_id }} {
      text-align: center;
    }
  }
{% endstyle %}

<div class="ai-image-text-block-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-image-text-container-{{ ai_gen_id }}">
    <div class="ai-image-text-main-content-{{ ai_gen_id }}{% if block.settings.image_position == 'right' %} ai-image-text-main-content-{{ ai_gen_id }}--reverse{% endif %}">
      <div class="ai-image-text-image-wrapper-{{ ai_gen_id }}">
        {% if block.settings.image %}
          <img
            src="{{ block.settings.image | image_url: width:800 }}"
            alt="{{ block.settings.image.alt | escape }}"
            class="ai-image-text-image-{{ ai_gen_id }}"
            loading="lazy"
            width="{{ block.settings.image.width }}"
            height="{{ block.settings.image.height }}"
          >
        {% else %}
          <div class="ai-image-text-image-placeholder-{{ ai_gen_id }}">
            {{ 'image' | placeholder_svg_tag }}
          </div>
        {% endif %}
      </div>

      <div class="ai-image-text-side-content-{{ ai_gen_id }}">
        {% if block.settings.heading != blank %}
          <h2 class="ai-image-text-heading-{{ ai_gen_id }}">{{ block.settings.heading }}</h2>
        {% endif %}

        {% if block.settings.side_text != blank %}
          <div class="ai-image-text-side-text-{{ ai_gen_id }}">
            {{ block.settings.side_text }}
          </div>
        {% endif %}
      </div>
    </div>

    {% if block.settings.bottom_text != blank or block.settings.button_text != blank %}
      <div class="ai-image-text-bottom-content-{{ ai_gen_id }}">
        {% if block.settings.bottom_text != blank %}
          <div class="ai-image-text-bottom-text-{{ ai_gen_id }}">
            {{ block.settings.bottom_text }}
          </div>
        {% endif %}

        {% if block.settings.button_text != blank and block.settings.button_url != blank %}
          <div class="ai-image-text-button-wrapper-{{ ai_gen_id }}">
            <a href="{{ block.settings.button_url }}" class="ai-image-text-button-{{ ai_gen_id }}">
              {{ block.settings.button_text }}
            </a>
          </div>
        {% endif %}
      </div>
    {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "Image & Text Block",
  "tag": null,
  "settings": [
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "select",
      "id": "image_position",
      "label": "Image position",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "left"
    },
    {
      "type": "select",
      "id": "vertical_alignment",
      "label": "Vertical alignment",
      "options": [
        {
          "value": "flex-start",
          "label": "Top"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "flex-end",
          "label": "Bottom"
        }
      ],
      "default": "center"
    },
    {
      "type": "range",
      "id": "image_width",
      "min": 30,
      "max": 70,
      "step": 5,
      "unit": "%",
      "label": "Image width",
      "default": 50
    },
    {
      "type": "header",
      "content": "Image"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "select",
      "id": "image_aspect_ratio",
      "label": "Image aspect ratio",
      "options": [
        {
          "value": "1/1",
          "label": "Square (1:1)"
        },
        {
          "value": "4/3",
          "label": "Landscape (4:3)"
        },
        {
          "value": "3/2",
          "label": "Classic (3:2)"
        },
        {
          "value": "16/9",
          "label": "Wide (16:9)"
        }
      ],
      "default": "4/3"
    },
    {
      "type": "range",
      "id": "image_border_radius",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Image border radius",
      "default": 8
    },
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Share your story"
    },
    {
      "type": "richtext",
      "id": "side_text",
      "label": "Text beside image",
      "default": "<p>Use this text to share information about your brand with your customers.</p>"
    },
    {
      "type": "richtext",
      "id": "bottom_text",
      "label": "Text below image (full width)",
      "default": "<p>Add additional content here that spans the full width below the image and side content. This is perfect for longer descriptions, detailed information, or additional context about your product or brand.</p>"
    },
    {
      "type": "select",
      "id": "bottom_text_alignment",
      "label": "Bottom text alignment (desktop)",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "left"
    },
    {
      "type": "select",
      "id": "mobile_bottom_text_alignment",
      "label": "Bottom text alignment (mobile)",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "left"
    },
    {
      "type": "header",
      "content": "Button"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button text",
      "default": "Learn more"
    },
    {
      "type": "url",
      "id": "button_url",
      "label": "Button link"
    },
    {
      "type": "select",
      "id": "button_alignment",
      "label": "Button alignment (desktop)",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "left"
    },
    {
      "type": "select",
      "id": "mobile_button_alignment",
      "label": "Button alignment (mobile)",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "range",
      "id": "button_margin_top",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Button top spacing",
      "default": 16
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "content_gap",
      "min": 20,
      "max": 80,
      "step": 4,
      "unit": "px",
      "label": "Content gap (desktop)",
      "default": 40
    },
    {
      "type": "range",
      "id": "mobile_content_gap",
      "min": 16,
      "max": 48,
      "step": 4,
      "unit": "px",
      "label": "Content gap (mobile)",
      "default": 24
    },
    {
      "type": "range",
      "id": "bottom_content_spacing",
      "min": 16,
      "max": 60,
      "step": 4,
      "unit": "px",
      "label": "Bottom content spacing (desktop)",
      "default": 32
    },
    {
      "type": "range",
      "id": "mobile_bottom_content_spacing",
      "min": 16,
      "max": 48,
      "step": 4,
      "unit": "px",
      "label": "Bottom content spacing (mobile)",
      "default": 24
    },
    {
      "type": "range",
      "id": "text_spacing",
      "min": 8,
      "max": 32,
      "step": 2,
      "unit": "px",
      "label": "Text element spacing",
      "default": 16
    },
    {
      "type": "range",
      "id": "section_padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Section top padding",
      "default": 40
    },
    {
      "type": "range",
      "id": "section_padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Section bottom padding",
      "default": 40
    },
    {
      "type": "range",
      "id": "mobile_section_padding_top",
      "min": 0,
      "max": 80,
      "step": 4,
      "unit": "px",
      "label": "Mobile top padding",
      "default": 24
    },
    {
      "type": "range",
      "id": "mobile_section_padding_bottom",
      "min": 0,
      "max": 80,
      "step": 4,
      "unit": "px",
      "label": "Mobile bottom padding",
      "default": 24
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#666666"
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "range",
      "id": "heading_size",
      "min": 16,
      "max": 48,
      "step": 2,
      "unit": "px",
      "label": "Heading size (desktop)",
      "default": 32
    },
    {
      "type": "range",
      "id": "mobile_heading_size",
      "min": 14,
      "max": 36,
      "step": 2,
      "unit": "px",
      "label": "Heading size (mobile)",
      "default": 24
    },
    {
      "type": "range",
      "id": "text_size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Text size (desktop)",
      "default": 16
    },
    {
      "type": "range",
      "id": "mobile_text_size",
      "min": 12,
      "max": 18,
      "step": 1,
      "unit": "px",
      "label": "Text size (mobile)",
      "default": 14
    },
    {
      "type": "header",
      "content": "Button Style"
    },
    {
      "type": "color",
      "id": "button_background_color",
      "label": "Button background",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button text",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "button_hover_background_color",
      "label": "Button hover background",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "button_hover_text_color",
      "label": "Button hover text",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "button_border_color",
      "label": "Button border",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "button_hover_border_color",
      "label": "Button hover border",
      "default": "#333333"
    },
    {
      "type": "range",
      "id": "button_border_width",
      "min": 0,
      "max": 4,
      "step": 1,
      "unit": "px",
      "label": "Button border width",
      "default": 0
    },
    {
      "type": "range",
      "id": "button_border_radius",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Button border radius",
      "default": 4
    },
    {
      "type": "range",
      "id": "button_padding_vertical",
      "min": 8,
      "max": 24,
      "step": 2,
      "unit": "px",
      "label": "Button vertical padding",
      "default": 12
    },
    {
      "type": "range",
      "id": "button_padding_horizontal",
      "min": 16,
      "max": 48,
      "step": 2,
      "unit": "px",
      "label": "Button horizontal padding",
      "default": 24
    },
    {
      "type": "range",
      "id": "button_text_size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Button text size",
      "default": 14
    }
  ],
  "presets": [
    {
      "name": "Image & Text Block"
    }
  ]
}
{% endschema %}