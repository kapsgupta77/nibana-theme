{% comment %}
Section: nb-trustbelt
Reusable trust belt/grid that wraps the global snippet `nb-trustbelt-core`.

Settings:
- heading (optional)
- layout: belt | grid
- items_text: newline-separated items
- speed: marquee duration (belt only)
- padding controls (optional)
{% endcomment %}

{% liquid
  assign _heading = section.settings.heading
  assign _layout  = section.settings.layout | default: 'belt'
  assign _speed   = section.settings.speed | default: 22
  assign _pad_t   = section.settings.pad_top | default: 0
  assign _pad_b   = section.settings.pad_bottom | default: 0

  assign _raw     = section.settings.items_text | to_string
  assign _lines   = _raw | split: newline
  assign _items   = _lines
%}

{% style %}
  .nb-trustbelt-sec{ padding-block-start: {{ _pad_t }}px; padding-block-end: {{ _pad_b }}px; }
  .nb-trustbelt-sec__head{ margin: 0 0 clamp(6px,1.2vw,10px); text-align: center; }
{% endstyle %}

<section class="nb-trustbelt-sec">
  {% if _heading != blank %}
    <div class="nb-trustbelt-sec__head nb-shell">
      <h3 class="nb-h4">{{ _heading }}</h3>
    </div>
  {% endif %}

  {% render 'nb-trustbelt-core', items: _items, layout: _layout, speed: _speed %}
</section>

{% schema %}
{
  "name": "Trustbelt",
  "settings": [
    { "type": "text",  "id": "heading", "label": "Heading", "default": "Trusted by" },
    { "type": "select","id": "layout",  "label": "Layout",  "default": "belt",
      "options": [
        { "value": "belt",  "label": "Belt (marquee)" },
        { "value": "grid",  "label": "Grid" }
      ]
    },
    { "type": "range","id": "speed","label": "Marquee speed (seconds, belt only)","min": 8, "max": 40, "step": 1, "default": 22 },
    { "type": "textarea", "id": "items_text", "label": "Items (one per line)", "default": "Trusted by founders\nLoved by couples\nUsed by executives" },
    { "type": "header", "content": "Padding" },
    { "type": "range", "id": "pad_top",    "label": "Top (px)",    "min": 0, "max": 100, "step": 1, "default": 0 },
    { "type": "range", "id": "pad_bottom", "label": "Bottom (px)", "min": 0, "max": 100, "step": 1, "default": 0 }
  ],
  "presets": [
    { "name": "Trustbelt (Nibana)", "category": "Content" }
  ]
}
{% endschema %}
